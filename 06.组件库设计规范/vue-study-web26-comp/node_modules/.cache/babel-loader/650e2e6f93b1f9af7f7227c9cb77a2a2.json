{"remainingRequest":"/Users/linhao/Desktop/vue/practice-vue/06.组件库设计规范/vue-study-web26-comp/node_modules/babel-loader/lib/index.js!/Users/linhao/Desktop/vue/practice-vue/06.组件库设计规范/vue-study-web26-comp/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/linhao/Desktop/vue/practice-vue/06.组件库设计规范/vue-study-web26-comp/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/linhao/Desktop/vue/practice-vue/06.组件库设计规范/vue-study-web26-comp/src/components/form/KFormItem.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/linhao/Desktop/vue/practice-vue/06.组件库设计规范/vue-study-web26-comp/src/components/form/KFormItem.vue","mtime":1610715232082},{"path":"/Users/linhao/Desktop/vue/practice-vue/06.组件库设计规范/vue-study-web26-comp/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/linhao/Desktop/vue/practice-vue/06.组件库设计规范/vue-study-web26-comp/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/linhao/Desktop/vue/practice-vue/06.组件库设计规范/vue-study-web26-comp/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/linhao/Desktop/vue/practice-vue/06.组件库设计规范/vue-study-web26-comp/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICIvVXNlcnMvbGluaGFvL0Rlc2t0b3AvdnVlL3ByYWN0aWNlLXZ1ZS8wNi5cdTdFQzRcdTRFRjZcdTVFOTNcdThCQkVcdThCQTFcdTg5QzRcdTgzMDMvdnVlLXN0dWR5LXdlYjI2LWNvbXAvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2RlZmluZVByb3BlcnR5IjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IFZhbGlkYXRvciBmcm9tICdhc3luYy12YWxpZGF0b3InOwpleHBvcnQgZGVmYXVsdCB7CiAgaW5qZWN0OiBbJ2Zvcm0nXSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZXJyb3I6ICcnCiAgICB9OwogIH0sCiAgcHJvcHM6IHsKICAgIGxhYmVsOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogJycKICAgIH0sCiAgICBwcm9wOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogJycKICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIC8vIEtpbnB1dOW3suaMgui9ve+8jOWPr+S7peebkeWQrOagoemqjOS6i+S7tgogICAgdGhpcy4kb24oJ3ZhbGlkYXRlJywgZnVuY3Rpb24gKCkgewogICAgICBfdGhpcy52YWxpZGF0ZSgpOwogICAgfSk7CiAgfSwKICBtZXRob2RzOiB7CiAgICB2YWxpZGF0ZTogZnVuY3Rpb24gdmFsaWRhdGUoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgLy8g6I635Y+W5qCh6aqM6KeE5YiZCiAgICAgIHZhciBydWxlcyA9IHRoaXMuZm9ybS5ydWxlc1t0aGlzLnByb3BdOyAvLyDlvZPliY3lgLwKCiAgICAgIHZhciB2YWx1ZSA9IHRoaXMuZm9ybS5tb2RlbFt0aGlzLnByb3BdOwogICAgICB2YXIgdmFsaWRhdG9yID0gbmV3IFZhbGlkYXRvcihfZGVmaW5lUHJvcGVydHkoe30sIHRoaXMucHJvcCwgcnVsZXMpKTsgLy8g5omn6KGM5qCh6aqMCgogICAgICByZXR1cm4gdmFsaWRhdG9yLnZhbGlkYXRlKF9kZWZpbmVQcm9wZXJ0eSh7fSwgdGhpcy5wcm9wLCB2YWx1ZSksIGZ1bmN0aW9uIChlcnJvcnMpIHsKICAgICAgICBpZiAoZXJyb3JzKSB7CiAgICAgICAgICAvLyDmmL7npLrplJnor6/kv6Hmga8KICAgICAgICAgIF90aGlzMi5lcnJvciA9IGVycm9yc1swXS5tZXNzYWdlOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAvLyDmoKHpqozpgJrov4fmuIXpmaTplJnor68KICAgICAgICAgIF90aGlzMi5lcnJvciA9ICcnOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["KFormItem.vue"],"names":[],"mappings":";;;;;;;;;;;;;AAaA,OAAA,SAAA,MAAA,iBAAA;AAEA,eAAA;AACA,EAAA,MAAA,EAAA,CAAA,MAAA,CADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,KAAA,EAAA;AADA,KAAA;AAGA,GANA;AAOA,EAAA,KAAA,EAAA;AACA,IAAA,KAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,OAAA,EAAA;AAFA,KADA;AAKA,IAAA,IAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,OAAA,EAAA;AAFA;AALA,GAPA;AAiBA,EAAA,OAjBA,qBAiBA;AAAA;;AACA;AACA,SAAA,GAAA,CAAA,UAAA,EAAA,YAAA;AACA,MAAA,KAAA,CAAA,QAAA;AACA,KAFA;AAGA,GAtBA;AAuBA,EAAA,OAAA,EAAA;AACA,IAAA,QADA,sBACA;AAAA;;AACA;AACA,UAAA,KAAA,GAAA,KAAA,IAAA,CAAA,KAAA,CAAA,KAAA,IAAA,CAAA,CAFA,CAGA;;AACA,UAAA,KAAA,GAAA,KAAA,IAAA,CAAA,KAAA,CAAA,KAAA,IAAA,CAAA;AAEA,UAAA,SAAA,GAAA,IAAA,SAAA,qBAAA,KAAA,IAAA,EAAA,KAAA,EAAA,CANA,CAQA;;AACA,aAAA,SAAA,CAAA,QAAA,qBAAA,KAAA,IAAA,EAAA,KAAA,GAAA,UAAA,MAAA,EAAA;AACA,YAAA,MAAA,EAAA;AACA;AACA,UAAA,MAAA,CAAA,KAAA,GAAA,MAAA,CAAA,CAAA,CAAA,CAAA,OAAA;AACA,SAHA,MAGA;AACA;AACA,UAAA,MAAA,CAAA,KAAA,GAAA,EAAA;AACA;AACA,OARA,CAAA;AASA;AAnBA;AAvBA,CAAA","sourcesContent":["<template>\n  <div>\n    <!-- 1.label -->\n    <label v-if=\"label\">{{label}}</label>\n    <!-- 2.内部内容 -->\n    <slot></slot>\n    <!-- 3.校验结果 -->\n    <p v-if=\"error\">{{error}}</p>\n    <p>{{form.rules[this.prop]}}</p>\n  </div>\n</template>\n\n<script>\n  import Validator from 'async-validator'\n\n  export default {\n    inject: ['form'],\n    data() {\n      return {\n        error: ''\n      }\n    },\n    props: {\n      label: {\n        type: String,\n        default: ''\n      },\n      prop: {\n        type: String,\n        default: ''\n      }\n    },\n    mounted () {\n      // Kinput已挂载，可以监听校验事件\n      this.$on('validate', () => {\n        this.validate()\n      })\n    },\n    methods: {\n      validate() {\n        // 获取校验规则\n        const rules = this.form.rules[this.prop]\n        // 当前值\n        const value = this.form.model[this.prop]\n        \n        const validator = new Validator({[this.prop]: rules})\n\n        // 执行校验\n        return validator.validate({[this.prop]: value}, errors => {\n          if (errors) {\n            // 显示错误信息\n            this.error = errors[0].message\n          } else {\n            // 校验通过清除错误\n            this.error = ''\n          }\n        })\n      }\n    },\n  }\n</script>\n\n<style scoped>\n\n</style>"],"sourceRoot":"src/components/form"}]}